# 2025-02-15 Preview of Nekot Coco Microkernel

## For Coco

Any Coco 1, 2, or 3, with at least 16K RAM.

Probaby Dragon 32/64 as well.

For fairness, all cocos run in "Least Common Donominator" mode:

* either VDG TEXT(32x16)/Semigraphics(64x32) or VDG PMODE1(128x96,4color)
[at first]

* Slow 0.89 MHz Clock

## For Gaming

The "programs" or "Apps" that this OS runs are called "Games".

The emphasis is multiplayer, but they can be single player,
or even non-interactive (Life viewer, music player, video player,
infomation kiosk, like clock & weather).

## Fast Network (not bit-banged UART)

* Rick Uland's CocoIOr

* Copico Bonobo (forthcoming)

* Perhaps FujiNet hardware (forthcoming)

## Games run on your Coco, not on your PC or in the Cloud

* All Game Dynamics are Coco-to-Coco Peer-to-Peer

## Communications 

* Communcations are high-speed and are mediated by PCs/Macs/Linux/Raspberries,
the internet, and a global server.

## Background OS vs Foreground Game

* OS is Minimal (a Microkernel, focused on allocating Memory, processing Tasks, Messaging, Interrupt handling).

* Not a traditional BIOS or CPM or DOS-like or OS-9-like or Unix-like OS.

* The OS owns

   1. The Networking hardware (includes loading and launching games)
   1. The 60Hz "Vertical Sync" interrupt (i.e. "Frame Sync" on VDG)
   1. Real Time Clock (realtime as in RTOS)
   1. Wall Time Clock
   1. One 512-byte Text display buffer (the console)
   1. The BREAK Key
   1. Video Mode switching (can switch to "console" then restore "game")
   1. Scores reported by games

* The OS UI is "Chat mode" (on the console)

   1.  Everybody is in one big chat lobby
   1.  Users `/join` and `/run` and `/leave` games

* Game Responsibility

   1. Main program Event Loop
   1. Game's Frame Buffer (3K available) for Text or PMode1 Graphics (raw RAM)
   1. Polling/Scanning the Keyboard, Joystick (raw hardware)
   1. Polling the network (via OS)

(Libraries can assist.)

* Games can

   1. Broacast short messages (64 bytes or less) to others in the same
game shard, and Receive these messages from others in the same shard.
   1. Keep partial scores (totaled and saved by the OS)

* Work in progress

    https://github.com/strickyak/nekot-coco-microkernel

    https://computerconect.com/products/cocoio-prom (CocoIOr ethernet card)

    https://github.com/strickyak/copico-bonobo (mac/PC/Linux/Pi-assisted network card)
